# AiStackChanEx

Ver1.03 2023-05-02


１．システム情報表示

ボタンＣ(右側)で 画面に表示します。外部インターフェースも設けています。
画面表示中は、Mute On（無音）状態となります。タイマーや独り言モードモードも解除します。
ボタンＣを押した場合は、トグルで On/Off の状態が変わります。
表示内容は、<使用方法>の箇所を参照してください。


２．音声Mute On/Off 機能

外部インターフェースで、 音声Mute On/Offの制御ができます。
なお、画面にシステム情報が表示されているときは、自動的にMute On（無音）状態にしています。



３．タイマーの時間設定に問題がありましたので修正しました。


※IPアドレスを「192.168.0.100」として記述していますが、各自読み替えてください。



<使用方法>

-------------------------------------


〇 System Information

：システム情報を外部に出力する。 (mode=0)

http://192.168.0.100/sysInfo

http://192.168.0.100/sysInfo?mode=0

ボタンＣを押下して表示される情報を外部に出力します。

Version, IP_ADDR, SSID, BatteryLevel, Volume, Timer, 
Mute_OnOff, RandomSpeak_OnOff, Uptime(起動時間)



：ネットワーク設定を出力する。(mode=1)

http://192.168.0.100/sysInfo?mode=1


IP_ADDR, SSID,SSID_PASSWD, OPEN_API_KEY, VOCETEXT_API_KEY




画面にも同時に表示することができます。

http://192.168.0.100/sysInfo?disp=on

http://192.168.0.100/sysInfo?mode=0&disp=on

http://192.168.0.100/sysInfo?mode=1&disp=on




画面の表示を消去する。

http://192.168.0.100/sysInfo?disp=off




〇 Mute On （消音状態）

http://192.168.0.100/setting?mute=on



〇 Mute Off　（volume値を復帰し、音声が有効な通常の状態）

http://192.168.0.100/setting?mute=off





＊ 制限事項　＊

・システム情報を表示中は、「独り言モード」と「タイマー」両方の機能は解除されます。

・「独り言モード」動作中に、「タイマー」開始すると「独り言モード」は解除します。

・「タイマー」動作中に、「独り言モード」を開始すると、「タイマー」は解除します。


現在、M5Stack Core2 for AWS 本体のみで開発をおこなっています。
(Normal Core2)および、サーボ機能の確認はしていませんので、不具合が発生した場合にはご了承ください。


------------------------------------------------------------------------


Ver1.02 2023-04-24

１．ボタンＡ、Ｃの機能に対応する外部インターフェースを設けました。
Ver1.01 でボタンＢの機能に対応していますので、ボタン操作なしで、本体をケースに
入れた場合や離れた場所からのスタックチャンの操作が可能になります。

２．ソースをコンパイルする時に出ていた warningを解消しました。

 [warning対策01]～[warning対策03]とソースのコメント内に記述しました。




<使用方法>

-------------------------------------

〇randomSpeak (ボタンA：左側の機能)
　：独り言モードのＯＮ／ＯＦＦ

独り言モードが ON となります。

http://192.168.0.100/randomSpeak?mode=on


独り言モードが OFF となります。

http://192.168.0.100/randomSpeak?mode=off




〇speakSelfIntro (ボタンC：右側の機能)
　：スタックチャンが自己紹介します。

http://192.168.0.100/speakSelfIntro







------------------------------------------------------------------------

Ver1.01 2023-04-18

RoboさんのVer007 のソフトをベースにのんちらさんの機能を統合しました。
タイマー機能とLEDピカピカが楽しいです。

独自に次の変更をしています。
・タイマーの時間設定ができる。
・外部からタイマー起動/停止ができる。
・独り言開始ボタンと被らないように、
　 タイマー開始/停止ボタンは、A(左)からB(中央)に移動。
 

使用方法

-------------------------------------

外部インターフェースについて記載します。

〇timer

　：タイマーの時間設定できます。

30秒から60分未満で秒単位の値を指定してください。
setTime= 30 - 3599(単位：秒)   

http://192.168.0.100/timer?setTime=40


setTimeを指定しないと初期値(=180秒)にタイマーの時間を戻します。

http://192.168.0.100/timer



〇timerGo 　(ボタンＢ：中央の機能)

　：タイマーの開始と時間設定が同時にできます。

タイマーの時間設定して、タイマーを開始します。
時間設定は、上記のtimerコマンドと同じく、
30秒から60分未満で秒単位の値を指定してください。

http://192.168.0.100/timerGo?setTime=90


setTimeを指定しないと、事前の設定値でタイマーが開始します。

http://192.168.0.100/timerGo



〇timerStop 　(ボタンＢ：中央の機能)

　：実行中のタイマーを停止ます。

http://192.168.0.100/timerStop



〇version

　：ソフトウエアのバージョン情報を出力します。

http://192.168.0.100/version

  -> AiStackChanEx Ver1.01 2023-04-18
  
